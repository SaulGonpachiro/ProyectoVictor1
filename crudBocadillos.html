<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MiBOCADILLO - CRUD Bocadillos</title>

    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="adminDashboard.css">

    <script src="admin.js"></script>
    <script src="crudBocadillos.js" defer></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            verificarAcceso();
        });
    </script>
</head>

<body class="admin-body">
<header class="admin-navbar">
    <img src="./medios/logoMiBocata.png" alt="Mi Bocata" class="admin-logo-img">

    <nav class="admin-nav-options">
        <a href="adminDashboard.html" class="admin-nav-link">Panel admin</a>
        <a href="crudAlumnos.html" class="admin-nav-link">Alumnos</a>
        <a href="crudBocadillos.html" class="admin-nav-link admin-nav-link-active">Bocadillos</a>
        <a href="crudPedidos.html" class="admin-nav-link">Pedidos</a>
    </nav>

    <button class="admin-logout-btn" onclick="logoutAdmin()">Cerrar sesión</button>
</header>

<main class="admin-content">
    <section class="admin-cards">
        <div class="admin-card crud-wide">
            <h2>Gestión de bocadillos</h2>
            <p>Aquí podrás crear, editar y eliminar bocadillos.</p>

            <!-- FORMULARIO -->
            <form id="form-bocadillo" class="crud-form">
                <input type="hidden" id="bocadillo-original">

                <div class="form-row">
                    <label>Nombre</label>
                    <input type="text" id="bocadillo-nombre" required>
                </div>

                <div class="form-row">
                    <label>Ingredientes</label>
                    <input type="text" id="bocadillo-ingredientes">
                </div>

                <div class="form-row">
                    <label>Tipo</label>
                    <select id="bocadillo-tipo">
                        <option value="">Selecciona tipo</option>
                        <option value="frio">Frío</option>
                        <option value="caliente">Caliente</option>
                    </select>
                </div>

                <div class="form-row">
                    <label>Precio</label>
                    <input type="number" id="bocadillo-precio" step="0.01" required>
                </div>

                <div class="form-row">
                    <label>Alergenos</label>
                    <input type="text" id="bocadillo-alergenos">
                </div>

                <div class="form-row">
                    <label>Día semana</label>
                    <select id="bocadillo-dia" required>
                        <option value="Monday">Lunes</option>
                        <option value="Tuesday">Martes</option>
                        <option value="Wednesday">Miércoles</option>
                        <option value="Thursday">Jueves</option>
                        <option value="Friday">Viernes</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="submit" class="admin-btn">Guardar</button>
                    <button type="button" class="admin-btn admin-btn-secondary" onclick="limpiarFormularioBocadillo()">Limpiar</button>
                </div>

                <p id="bocadillos-mensaje"></p>
            </form>

            <!-- FILTROS -->
            <div style="margin: 25px 0 18px 0; display:flex; gap:15px;">

                <!-- Buscador por nombre -->
                <div style="flex:2;">
                    <label style="font-weight:600;">Buscar por nombre</label>
                    <input
                        type="text"
                        id="bocadillo-busqueda"
                        placeholder="Buscar nombre..."
                        style="width:100%; padding:6px; border-radius:6px; border:1px solid #ccc;">
                </div>

                <!-- Filtrar por tipo -->
                <div style="flex:1;">
                    <label style="font-weight:600;">Tipo</label>
                    <select id="bocadillo-tipo-filtro" style="width:100%; padding:6px; border-radius:6px; border:1px solid #ccc;">
                        <option value="">Todos</option>
                        <option value="frio">Frío</option>
                        <option value="caliente">Caliente</option>
                    </select>
                </div>

            </div>

            <!-- TABLA -->
            <table class="tabla-admin">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Ingredientes</th>
                        <th>Tipo</th>
                        <th>Precio</th>
                        <th>Alergenos</th>
                        <th>Día</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tbody-bocadillos"></tbody>
            </table>

        </div>
    </section>
</main>

</body>
</html>
